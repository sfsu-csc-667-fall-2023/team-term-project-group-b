<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/chat.css" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play</title>
    <script src="/scripts/chat.js" defer></script>
    <script src="/scripts/games.js" defer></script>
</head>
<body>
    <h1>Game page with ID: <%= id %></h1>
    <div class="topnav">
        <a class="active" href="/">Home</a>
        <a href="/auth/login">login</a>
        <a href="/auth/signup">Sign up</a>
        <a href="/auth/logout">logout</a>
      </div>
      <input type="hidden" name="room-id" id="room-id" value="<%= roomId %>"></input>
      <style>
        .scroll-box {
          width: 300px; /* Set the width of the box */
          height: 200px; /* Set the height of the box */
          overflow: auto; /* Enable scrolling if content exceeds box dimensions */
          border: 1px solid #ccc; /* Add a border for visual separation */
          padding: 10px; /* Add some padding for content spacing */
        }
      </style>

    <input
    <div class = "grid">
      <h1>Game page with ID: <%= id %></h1>
          <h1>Game <%= id%></h1>
          <% if (is_initialized.initialized) { %>
            <h1>Game <%= id%> started</h1>
          <% } %> 
          <section id="game-board">
            <form method="post" action="/games/<%= id %>/hold" id="hold-form">
              <button type="submit">Hold</button>
            </form>
            <form method="post" action="/games/<%= id %>/call" id="call-form">
              <button type="submit">Call</button>
            </form>
            <form method="post" action="/games/<%= id %>/bet" id="bet-form">
              <button type="submit">Bet</button>
            </form>
            <form method="post" action="/games/<%= id %>/fold" id="fold-form">
              <button type="submit">Fold</button>
            </form>
    
            <div class="hand dealer"></div>
            <div class="hand player-one-hand"></div>
            <div class="hand player-two-hand"></div>
          </section>
          <input
          type="hidden"
          name="game-socket-id"
          id="game-socket-id"
          value="<%= gameSocketId %>" />
          <input
          type="hidden"
          name="user-socket-id"
          id="user-socket-id"
          value="<%= userSocketId %>"
      />
        <div><h1>Global lobby for chat and Game</h></div>
        <h2><%= user.id %> <%= user.username %></h2>
        <div class="scroll-box">
            <h2>Chat</h2>
            <article id = "chat-window"></article>
        </div>
        <% if (!is_initialized.initialized) { %>
          <button id="start" value="<%= id %>">Start the Game</button>
        <% } %>        
    <input
        type="text"
        name= "message"
        id="message"
        placeholder= "Message"/>
    </div>

</body>
</html>
